<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Liv Jaijot Kaur | 日常修行</title>
  <style>
    :root {
      --bg: #f7f5f2;
      --text: #1f1c2d;
      --muted: #5b556a;
      --primary: #9fa8da;
      --secondary: #c7d9d9;
      --card: rgba(255,255,255,0.8);
      --shadow: 0 12px 40px rgba(31,28,45,0.08);
      --radius: 24px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      letter-spacing: 0.01em;
      background-image: var(--pattern, none);
      background-attachment: fixed;
    }
    header {
      max-width: 1200px;
      margin: 0 auto;
      padding: 28px 22px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    nav a {
      color: var(--muted);
      margin-left: 18px;
      text-decoration: none;
      font-weight: 600;
    }
    nav a:hover { color: var(--text); }
    .section {
      max-width: 1200px;
      margin: 0 auto;
      padding: 64px 22px;
    }
    .hero {
      background: linear-gradient(120deg, rgba(159,168,218,0.16), rgba(199,217,217,0.2));
      border-radius: 32px;
      padding: 56px;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }
    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.6), transparent 30%),
                  radial-gradient(circle at 80% 0%, rgba(255,255,255,0.5), transparent 28%);
      pointer-events: none;
    }
    .hero h1 { margin-top: 0; font-size: 32px; }
    .tagline { color: var(--muted); font-weight: 600; }
    .cta {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 14px 18px;
      border-radius: 18px;
      border: 1px solid rgba(31,28,45,0.08);
      background: #fff;
      color: var(--text);
      box-shadow: var(--shadow);
      text-decoration: none;
      font-weight: 700;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .cta.secondary { background: linear-gradient(120deg, rgba(159,168,218,0.18), rgba(199,217,217,0.24)); }
    .cta:hover { transform: translateY(-2px); box-shadow: 0 16px 46px rgba(31,28,45,0.12); }
    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 18px;
      margin-top: 22px;
    }
    .card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 22px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(6px);
      border: 1px solid rgba(31,28,45,0.05);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      position: relative;
      overflow: hidden;
    }
    .card:hover { transform: translateY(-4px); box-shadow: 0 20px 48px rgba(31,28,45,0.12); }
    .soft-icon {
      width: 18px;
      height: 18px;
      stroke: var(--muted);
    }
    h2 { margin-bottom: 12px; }
    .pill {
      display: inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(31,28,45,0.05);
      color: var(--muted);
      font-size: 12px;
      margin-right: 8px;
    }
    .method-steps { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px,1fr)); gap: 14px; }
    .step { background: var(--card); padding: 18px; border-radius: var(--radius); box-shadow: var(--shadow); }
    .input-row { display: flex; flex-wrap: wrap; gap: 12px; margin-bottom: 14px; }
    select, input[type="search"], textarea {
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(31,28,45,0.12);
      background: #fff;
      color: var(--text);
      box-shadow: inset 0 1px 2px rgba(31,28,45,0.03);
    }
    button {
      border: none;
      background: linear-gradient(120deg, rgba(159,168,218,0.8), rgba(199,217,217,0.8));
      color: var(--text);
      padding: 12px 16px;
      border-radius: 14px;
      cursor: pointer;
      font-weight: 700;
      box-shadow: var(--shadow);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    button:hover { transform: translateY(-2px); box-shadow: 0 16px 40px rgba(31,28,45,0.12); }
    .practice-card { margin-top: 18px; display: grid; gap: 10px; }
    .chip { padding: 6px 8px; border-radius: 999px; background: rgba(31,28,45,0.06); font-size: 12px; display: inline-block; margin-right: 6px; }
    .filter-bar { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 16px; align-items: center; }
    .tag-button { padding: 8px 12px; border-radius: 14px; border: 1px solid rgba(31,28,45,0.12); background: #fff; cursor: pointer; }
    .tag-button.active { background: rgba(159,168,218,0.28); }
    .detail-panel {
      background: var(--card);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      margin-top: 18px;
      display: none;
    }
    .geometry-bg {
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: 0.7;
      mix-blend-mode: multiply;
    }
    .section-title { display: flex; align-items: center; gap: 10px; }
    .reveal { opacity: 0; transform: translateY(12px); transition: opacity 0.8s ease, transform 0.8s ease; }
    .reveal.visible { opacity: 1; transform: translateY(0); }
    .mini-card { display: grid; gap: 8px; }
    footer { padding: 32px 22px 48px; text-align: center; color: var(--muted); }
    @media (max-width: 720px) {
      .hero { padding: 32px; }
      header { flex-direction: column; align-items: flex-start; gap: 10px; }
    }
  </style>
</head>
<body>
  <div id="pattern-holder"></div>
  <header>
    <div>
      <strong>Liv Jaijot Kaur ( Sonia Chen )</strong><br>
      <span class="tagline">把修行變成日常，把日常變成修行 · Practice daily. Live gently. Stay grounded.</span>
    </div>
    <nav>
      <a href="#home">Home</a>
      <a href="#daily">Daily Practice</a>
      <a href="#solar">Solar Terms</a>
      <a href="#library">Practice Library</a>
      <a href="#about">About</a>
      <a href="#writing">Writing</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <main>
    <section id="home" class="section">
      <div class="hero reveal">
        <div class="geometry-bg" aria-hidden="true"></div>
        <h1>讓呼吸帶回節奏，讓身體記得穩定。</h1>
        <p class="tagline">今日提醒：慢下來並不是失去效率，而是允許自己在足夠的安全感裡做出清晰的決定。讓每一次吸氣都像溫柔的靠岸，吐氣時輕輕把多餘的緊繃放回地面。</p>
        <div style="margin: 16px 0 8px; display: flex; gap: 12px; flex-wrap: wrap;">
          <a class="cta" href="#daily">
            <svg class="soft-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.6"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            開始今日練習
          </a>
          <a class="cta secondary" href="#solar">
            <svg class="soft-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.6"><circle cx="12" cy="12" r="7"/><path d="M12 3v2M12 19v2M3 12h2M19 12h2M5.6 5.6l1.4 1.4M17 17l1.4 1.4M17 7l1.4-1.4M5.6 18.4 7 17"/></svg>
            依節氣探索
          </a>
        </div>
        <div class="card-grid">
          <div class="card mini-card">
            <div class="section-title"><svg class="soft-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.6"><circle cx="12" cy="12" r="8"/><path d="M12 8v4l2.2 2.2"/></svg><strong>今日練習</strong></div>
            <p>3 款呼吸、覺察、短冥想，每日可重新生成，伴你回到穩定。</p>
          </div>
          <div class="card mini-card">
            <div class="section-title"><svg class="soft-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.6"><path d="M12 3c4.97 0 9 4.03 9 9s-4.03 9-9 9-9-4.03-9-9c0-.34.02-.67.06-1"/></svg><strong>節氣修行</strong></div>
            <p>24 節氣 × 身體感，用季節的節奏校準呼吸、作息與練習。</p>
          </div>
          <div class="card mini-card">
            <div class="section-title"><svg class="soft-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.6"><path d="M6 5h12M6 12h12M6 19h6"/></svg><strong>修行筆記</strong></div>
            <p>反思與方法，回答常見困惑，讓修行與生活可以並行、不分離。</p>
          </div>
        </div>
      </div>
    </section>

    <section class="section reveal" id="method">
      <h2>我的方法：Observe → Regulate → Integrate → Return</h2>
      <div class="method-steps">
        <div class="step"><strong>Observe</strong><p>先承認此刻的身體訊號與情緒，觀察溫度、節奏與力量。</p></div>
        <div class="step"><strong>Regulate</strong><p>透過呼吸與簡單的身體動作讓神經系統降噪，回到可回應的狀態。</p></div>
        <div class="step"><strong>Integrate</strong><p>把練習帶進日常情境，設置可行的小提醒，累積安全感。</p></div>
        <div class="step"><strong>Return</strong><p>在變化裡持續回家，溫柔檢視、調整，再次呼吸。</p></div>
      </div>
    </section>

    <section class="section reveal" id="daily">
      <div class="section-title"><h2>Daily Practice · 每日練習卡</h2></div>
      <p>根據你的時間與狀態，快速獲得一張可直接使用的練習卡。</p>
      <div class="card">
        <div class="input-row">
          <label>時長
            <select id="duration">
              <option value="5">5 分鐘</option>
              <option value="10">10 分鐘</option>
              <option value="15">15 分鐘</option>
            </select>
          </label>
          <label>目的
            <select id="purpose">
              <option value="安定">安定</option>
              <option value="提神">提神</option>
              <option value="放鬆">放鬆</option>
              <option value="專注">專注</option>
              <option value="睡前">睡前</option>
            </select>
          </label>
          <label>身體狀態
            <select id="state">
              <option value="緊">緊</option>
              <option value="疲憊">疲憊</option>
              <option value="心浮">心浮</option>
              <option value="情緒多">情緒多</option>
              <option value="頭腦過載">頭腦過載</option>
            </select>
          </label>
        </div>
        <button id="generate">生成練習卡</button>
        <div id="practiceCard" class="practice-card"></div>
        <button style="margin-top:8px; background: rgba(31,28,45,0.08); color: var(--text);">下載練習卡（即將提供）</button>
      </div>
    </section>

    <section class="section reveal" id="solar">
      <div class="section-title"><h2>Solar Terms · 節氣修行</h2></div>
      <p>跟著季節調整呼吸與作息，讓身體與土地同步。</p>
      <div class="filter-bar">
        <label>身體主題
          <select id="bodyFilter"><option value="">全部</option></select>
        </label>
        <label>情緒主題
          <select id="emotionFilter"><option value="">全部</option></select>
        </label>
        <label>時長
          <select id="durationFilter"><option value="">全部</option><option value="3-5">3-5 分鐘</option><option value="5-10">5-10 分鐘</option></select>
        </label>
      </div>
      <div id="solarGrid" class="card-grid"></div>
      <div id="solarDetail" class="detail-panel"></div>
    </section>

    <section class="section reveal" id="library">
      <div class="section-title"><h2>Practice Library · 練習庫</h2></div>
      <div class="filter-bar">
        <input type="search" id="librarySearch" placeholder="搜尋練習名稱或情境" />
        <div id="libraryTags"></div>
      </div>
      <div id="libraryGrid" class="card-grid"></div>
    </section>

    <section class="section reveal" id="about">
      <div class="section-title"><h2>About · 我的路徑</h2></div>
      <div class="card-grid">
        <div class="card mini-card">
          <h3>我如何走向修行</h3>
          <p>從企業系統與專案管理起家，長期在高壓節奏裡尋找穩定。遇見瑜珈與冥想後，才明白身體的語言比數據更誠實。</p>
        </div>
        <div class="card mini-card">
          <h3>我如何把修行變成日常</h3>
          <p>我用專案管理的方法設計提醒：短呼吸、節氣留白、晨間覺察。每一步都可量化、可回顧，也保留足夠的柔軟。</p>
        </div>
        <div class="card mini-card">
          <h3>我如何陪伴初學者</h3>
          <p>陪伴不等於替你做決定。我提供方法與界線：不診斷、不替代醫療，讓你在安全感裡慢慢長出自己的節奏。</p>
        </div>
      </div>
      <div class="card" style="margin-top:18px;">
        <strong>我的背景（角落補強）</strong>
        <p>PM / 系統 / 自動化經驗，擅長把抽象概念拆解成可執行的步驟，並用儀式化提醒讓習慣成形。</p>
      </div>
    </section>

    <section class="section reveal" id="writing">
      <div class="section-title"><h2>Writing · 修行筆記</h2></div>
      <div class="filter-bar">
        <input type="search" id="writingSearch" placeholder="搜尋筆記或 tags" />
      </div>
      <div id="writingGrid" class="card-grid"></div>
    </section>

    <section class="section reveal" id="contact">
      <div class="section-title"><h2>Contact · 聯絡</h2></div>
      <div class="card">
        <p>為了彼此的安全與清晰，請先選擇聯絡目的，再留下你的需求。內容為身心練習分享，不替代專業醫療或心理治療。</p>
        <div class="input-row">
          <label>聯絡目的
            <select id="contactPurpose">
              <option>合作</option>
              <option>授課</option>
              <option>分享</option>
            </select>
          </label>
          <label>你的 email
            <input type="email" placeholder="you@example.com" />
          </label>
        </div>
        <textarea rows="4" style="width:100%;" placeholder="說說你期待的支持與時間安排"></textarea>
        <button style="margin-top:12px;">送出（示意）</button>
      </div>
    </section>
  </main>

  <footer>Practice daily. Live gently. Stay grounded.</footer>

  <script>
    const practicePresets = {
      安定: {
        準備: "找一個靠背、腳掌可以貼地的位置，關掉多餘的通知。",
        呼吸: "4-6-4 呼吸：吸氣數 4，停 2，吐氣數 6，停 2，循環 3-5 分鐘。",
        觀照: "注意肩膀與下巴是否鬆開，想像吐氣時把重量交給椅子與地面。",
        結束: "用手指輕碰鎖骨，確認呼吸還在。感謝自己留時間給穩定。",
        注意: "若感到頭暈，改為自然呼吸並睜眼。"
      },
      提神: {
        準備: "打開窗戶或站在陽台，讓新鮮空氣進來，站姿微蹲。",
        呼吸: "3 回合提升式：鼻吸 3 秒，口吐 3 秒，同步提拉胸腔。",
        觀照: "把注意力放在鼻尖到眉間的涼感，讓背脊拉長。",
        結束: "搓熱雙手覆蓋眼睛，慢慢睜開，帶回清醒。",
        注意: "心率偏高時減少強度，改為坐姿。"
      },
      放鬆: {
        準備: "調暗燈光，準備一條薄毯，讓腳踝與手腕溫暖。",
        呼吸: "6-6 呼吸：吸氣 6，吐氣 6，延長吐氣的滑順感。",
        觀照: "掃描下背、腰、腹部，讓每次吐氣都像把重量放回床面。",
        結束: "把注意力放到鼻尖，感謝身體的回應，慢慢坐起。",
        注意: "有暈眩或低血壓時縮短時長。"
      },
      專注: {
        準備: "準備計時器，桌面只留必要物品，手機設為專注模式。",
        呼吸: "方形呼吸：吸 4、停 4、吐 4、停 4，穩定 3-5 分鐘。",
        觀照: "用眼神輕點桌上一個物件，讓視線不緊繃但穩定。",
        結束: "記錄此刻清晰度 1-5，作為下一次練習的參考。",
        注意: "若焦躁升高，改為長吐氣 8 秒再回到方形呼吸。"
      },
      睡前: {
        準備: "關掉頂燈，保留一盞暖黃光，讓床邊沒有電子產品。",
        呼吸: "4-7-8 呼吸：吸 4、停 7、吐 8，最多 4 組。",
        觀照: "聽自己心跳的節奏，想像身體一層層沉進床面。",
        結束: "不急著起身，讓呼吸自然淡出，帶著安全感入睡。",
        注意: "孕期或肺部不適者改為 4-6 呼吸。"
      }
    };

    const practiceCardEl = document.getElementById('practiceCard');
    const stateNote = {
      緊: "多放在吐氣與肩頸，必要時加入肩膀繞圈 3 次。",
      疲憊: "減少用力，允許打哈欠，重點是讓下背貼合支撐面。",
      心浮: "將視線往下，注視鼻尖到胸口的路徑，減少外界刺激。",
      情緒多: "在每次吐氣時默念『我看見你』，不評價，只陪伴。",
      頭腦過載: "在停頓處延長 1-2 秒，讓訊息沉澱後再吸下一口。"
    };

    function renderPracticeCard() {
      const duration = document.getElementById('duration').value;
      const purpose = document.getElementById('purpose').value;
      const state = document.getElementById('state').value;
      const preset = practicePresets[purpose];
      practiceCardEl.innerHTML = `
        <div class="chip">${duration} 分鐘</div>
        <div class="chip">目的：${purpose}</div>
        <div class="chip">狀態：${state}</div>
        <div><strong>準備</strong><p>${preset.準備}</p></div>
        <div><strong>呼吸指引</strong><p>${preset.呼吸}</p></div>
        <div><strong>觀照提示</strong><p>${preset.觀照}</p></div>
        <div><strong>結束語</strong><p>${preset.結束}</p></div>
        <div><strong>注意事項</strong><p>${stateNote[state]} ${preset.注意}</p></div>
      `;
    }
    document.getElementById('generate').addEventListener('click', renderPracticeCard);
    renderPracticeCard();

    const solarTerms = [
      {
        name: '立春', time: '2月上旬', body: '肝與筋膜的伸展感', emotion: '希望但易躁', rhythm: '早睡早起，增加戶外柔光', duration: '3-5',
        practice: '3 分鐘胸肋擴張呼吸，吸氣時雙臂向側打開，吐氣收回胸前。',
        detail: {
          climate: '寒意未退但已有回暖，像剛醒的身體需要溫和啟動。',
          bodySignals: ['晨起肩頸僵硬', '指尖冰冷', '下背緊繃', '眼睛容易乾澀'],
          heartSignals: ['期待新計畫', '耐心不足', '情緒起伏快', '對環境聲音敏感'],
          practiceShort: ['坐姿，吸氣拉長脊椎，吐氣側彎交替，3-5 分鐘。'],
          practiceLong: ['貓牛式 6 回、胸肋擴張呼吸 10 回、坐姿前彎停留 2 分鐘。'],
          bias: '不要追求一次把筋膜拉開，先讓關節熱起來，感受角度。',
          card: '立春卡：帶著希望伸展，溫柔把身體喚醒。'
        }
      },
      {
        name: '雨水', time: '2月下旬', body: '肺部與皮膚的潮濕感', emotion: '心情鬆動，想補眠', rhythm: '保持室內乾爽，晚餐減少油炸', duration: '5-10',
        practice: '鼻吸口吐，雙手滑過鎖骨到肩膀，排出濕滯感，5 分鐘。',
        detail: {
          climate: '雨水增加，空氣濕度上升，需要呼吸帶動循環。',
          bodySignals: ['手腳黏冷', '鼻塞或痰多', '皮膚發癢', '胸口悶'],
          heartSignals: ['容易分心', '想賴床', '對節奏感模糊', '期待被照顧'],
          practiceShort: ['站姿，吸氣提肩，吐氣放鬆並搖晃手臂 3 分鐘。'],
          practiceLong: ['坐姿 4-7-8 呼吸 4 組，肩頸放鬆術 3 組，胸椎轉動 2 分鐘。'],
          bias: '避免用力咳出痰液，改以長吐氣與溫熱飲協助。',
          card: '雨水卡：以呼吸排濕，讓心肺有空間。'
        }
      },
      {
        name: '驚蟄', time: '3月上旬', body: '神經系統覺醒，肌肉微跳', emotion: '敏感、易受驚', rhythm: '保持睡眠一致，避免過度咖啡因', duration: '3-5',
        practice: '5 分鐘耳際拍打與腹式呼吸，安撫神經。',
        detail: {
          climate: '雷聲初響，陽氣上升，身體訊號變快。',
          bodySignals: ['肌肉顫動', '耳鳴', '手心出汗', '胃口變化'],
          heartSignals: ['緊繃警戒', '易怒', '需要被理解', '想要動起來'],
          practiceShort: ['坐姿，食指輕敲耳際 30 下，配合長吐氣 5 組。'],
          practiceLong: ['腹式呼吸 5 分鐘，貓牛式 8 回，前彎停留 2 分鐘。'],
          bias: '不要壓抑警覺感，承認它後以節奏安撫即可。',
          card: '驚蟄卡：聽見雷，也聽見自己的節奏。'
        }
      },
      {
        name: '春分', time: '3月下旬', body: '肝膽與眼睛調和', emotion: '平衡與決斷', rhythm: '白天延長，安排戶外步行', duration: '5-10',
        practice: '行走冥想 8 分鐘，腳掌全觸地，吐氣時放慢步伐。',
        detail: {
          climate: '日夜平分，內外節奏可重新對齊。',
          bodySignals: ['眼壓上升', '側腰緊', '頭重', '腳踝僵硬'],
          heartSignals: ['猶豫與想前進交錯', '渴望清晰界線', '情緒較穩'],
          practiceShort: ['原地慢走 3 分鐘，配合 4-4 呼吸。'],
          practiceLong: ['步行冥想 8-10 分鐘，最後站樁 2 分鐘感受腳底。'],
          bias: '不要用力走快，平衡在於穩定的步伐與視線高度。',
          card: '春分卡：腳步與呼吸平分，心也找到中線。'
        }
      },
      {
        name: '清明', time: '4月上旬', body: '肺與鼻腔清透感', emotion: '想更新、易感傷', rhythm: '早晨通風，適度曬太陽', duration: '3-5',
        practice: '3 分鐘鼻腔清理式呼吸，配合肩頸放鬆。',
        detail: {
          climate: '空氣轉清，花粉增加，呼吸需輕緩。',
          bodySignals: ['打噴嚏增加', '眼鼻癢', '肩膀抬高', '胸口緊'],
          heartSignals: ['懷舊', '想整理環境', '情緒細膩', '需要安靜'],
          practiceShort: ['手掌敷鼻翼，吸氣感受鼻尖涼，吐氣放鬆肩膀 3 分鐘。'],
          practiceLong: ['交替鼻孔呼吸 6 組，肩頸滾動 2 分鐘，坐姿冥想 3 分鐘。'],
          bias: '鼻塞嚴重時不要勉強閉氣，改為自然呼吸與溫鹽水沖洗。',
          card: '清明卡：清出通道，讓感受自由流動。'
        }
      },
      {
        name: '立夏', time: '5月上旬', body: '心與小腸的熱度', emotion: '熱情但易躁動', rhythm: '午休 15 分鐘，晚間減少重口味', duration: '5-10',
        practice: '坐姿靜心 6 分鐘，觀察心跳與手心溫度。',
        detail: {
          climate: '氣溫升高，汗水增多，需要清涼且穩的呼吸。',
          bodySignals: ['口乾', '手心熱', '夜眠易醒', '消化加速'],
          heartSignals: ['說話變快', '容易衝動', '想社交又怕耗能', '需要降溫'],
          practiceShort: ['舌尖抵上顎，吸氣 4 吐氣 6，手掌向上放腿上 5 分鐘。'],
          practiceLong: ['冷卻呼吸（捲舌） 8 回，胸椎扭轉 2 分鐘，坐姿冥想 5 分鐘。'],
          bias: '不要因躁熱而劇烈運動，優先用呼吸降溫。',
          card: '立夏卡：讓熱度有出口，心就能安住。'
        }
      },
      {
        name: '大暑', time: '7月下旬', body: '脾胃與水分循環', emotion: '煩躁、懶動', rhythm: '避免午後曝曬，多補水與蔬果', duration: '3-5',
        practice: '3 分鐘腹式呼吸加手敷丹田，協助消化與降溫。',
        detail: {
          climate: '最熱的時節，水分與食慾需要調和。',
          bodySignals: ['汗多', '胃口不振', '頭重', '腳踝腫'],
          heartSignals: ['懶散', '容易生氣', '注意力短', '想休假'],
          practiceShort: ['坐姿，手疊丹田，吸氣腹鼓，吐氣腹收，3-4 分鐘。'],
          practiceLong: ['腹式呼吸 6 分鐘，腿後側伸展 2 分鐘，簡易扭轉 2 分鐘。'],
          bias: '避免空腹練習冷卻呼吸，先補水。',
          card: '大暑卡：在熱裡找到陰涼，讓胃口有餘裕。'
        }
      },
      {
        name: '立秋', time: '8月上旬', body: '肺與皮膚收斂', emotion: '微愁與收束', rhythm: '晚風散步，減少生冷', duration: '5-10',
        practice: '5 分鐘長吐氣練習，讓心肺換氣更充分。',
        detail: {
          climate: '暑熱漸退，早晚轉涼，需要保暖喉嚨。',
          bodySignals: ['皮膚乾', '喉嚨癢', '肩背緊', '容易疲倦'],
          heartSignals: ['季末感慨', '想整理年度', '需要安靜陪伴', '對收束敏感'],
          practiceShort: ['鼻吸 4、口吐 8，雙手輕抱自己 3 分鐘。'],
          practiceLong: ['貓牛式 6 回，胸腔開展 3 分鐘，長吐氣 5 分鐘。'],
          bias: '不要猛開冷氣直吹，維持喉嚨濕潤。',
          card: '立秋卡：在收束裡呼氣，讓空間重新出現。'
        }
      },
      {
        name: '白露', time: '9月上旬', body: '肺與免疫守門', emotion: '敏感、想收心', rhythm: '早晚加件薄外套，早睡', duration: '3-5',
        practice: '3-4 分鐘交替鼻孔呼吸，平衡左右能量。',
        detail: {
          climate: '露水出現，溫差變大，呼吸道需保護。',
          bodySignals: ['喉嚨乾痛', '鼻水', '皮膚繃', '腰背涼'],
          heartSignals: ['想獨處', '容易感傷', '需要邊界', '思緒緩慢'],
          practiceShort: ['右閉左吸 4、停 2、左吐 4；換邊，共 5 組。'],
          practiceLong: ['交替鼻孔呼吸 8 組，胸椎扭轉 2 分鐘，坐姿冥想 3 分鐘。'],
          bias: '鼻塞嚴重先蒸氣或熱敷，再進行短版。',
          card: '白露卡：保護呼吸口，讓免疫有節奏。'
        }
      },
      {
        name: '霜降', time: '10月下旬', body: '肺與大腸的乾燥感', emotion: '淡淡的孤獨與沉思', rhythm: '增加油脂攝取，保持腸胃潤滑', duration: '5-10',
        practice: '5 分鐘腹背交互呼吸，吐氣時輕扭上半身。',
        detail: {
          climate: '寒意加深，空氣乾燥，需要保濕與慢節奏。',
          bodySignals: ['皮膚乾裂', '便秘', '鼻血', '肩膀僵硬'],
          heartSignals: ['想寫字', '情緒內收', '需要陪伴但不打擾', '容易夜醒'],
          practiceShort: ['坐姿，雙手抱肋骨，感受吸氣側肋外展，吐氣輕扭 3 分鐘。'],
          practiceLong: ['腹背呼吸 5 分鐘，貓牛式 6 回，前彎停留 3 分鐘。'],
          bias: '避免過度拉伸乾冷的肌肉，先熱身。',
          card: '霜降卡：慢呼吸，讓乾燥變成柔軟。'
        }
      },
      {
        name: '冬至', time: '12月下旬', body: '腎與骨盆的穩固', emotion: '需要安定與陪伴', rhythm: '早睡晚起，增加溫熱湯飲', duration: '5-10',
        practice: '6 分鐘腹式＋腳掌地氣練習，感受骨盆重量。',
        detail: {
          climate: '白天最短，寒冷深入，需要核心保暖。',
          bodySignals: ['手腳冰冷', '膝蓋緊', '下背痠', '水分代謝變慢'],
          heartSignals: ['想窩在家', '需要安全感', '情緒沈穩', '想整理一年'],
          practiceShort: ['雙腳踩地，吸氣感受腰背微鼓，吐氣腳掌抓地 5 分鐘。'],
          practiceLong: ['腹式呼吸 6 分鐘，橋式 6 回，抱膝前後滾動 2 分鐘。'],
          bias: '避免空腹大強度運動，優先保暖再練習。',
          card: '冬至卡：向內收，讓骨盆成為你的火爐。'
        }
      }
    ];

    const bodyFilter = document.getElementById('bodyFilter');
    const emotionFilter = document.getElementById('emotionFilter');
    const durationFilter = document.getElementById('durationFilter');
    const solarGrid = document.getElementById('solarGrid');
    const solarDetail = document.getElementById('solarDetail');

    function populateFilters() {
      const bodies = [...new Set(solarTerms.map(s => s.body))];
      const emotions = [...new Set(solarTerms.map(s => s.emotion))];
      bodies.forEach(b => bodyFilter.innerHTML += `<option value="${b}">${b}</option>`);
      emotions.forEach(e => emotionFilter.innerHTML += `<option value="${e}">${e}</option>`);
    }
    populateFilters();

    function renderSolarGrid() {
      const b = bodyFilter.value, e = emotionFilter.value, d = durationFilter.value;
      solarGrid.innerHTML = '';
      solarTerms.filter(s => (!b || s.body === b) && (!e || s.emotion === e) && (!d || s.duration === d)).forEach(s => {
        const card = document.createElement('div');
        card.className = 'card mini-card';
        card.innerHTML = `
          <div class="section-title"><strong>${s.name}</strong><span class="pill">${s.time}</span></div>
          <p><strong>身體主題：</strong>${s.body}</p>
          <p><strong>情緒主題：</strong>${s.emotion}</p>
          <p><strong>生活節奏：</strong>${s.rhythm}</p>
          <p><strong>練習：</strong>${s.practice}</p>
        `;
        card.addEventListener('click', () => renderSolarDetail(s));
        solarGrid.appendChild(card);
      });
    }

    function renderSolarDetail(s) {
      solarDetail.style.display = 'block';
      solarDetail.innerHTML = `
        <h3>${s.name} · 詳細</h3>
        <p><strong>這個節氣的氣候與節奏：</strong>${s.detail.climate}</p>
        <p><strong>身體訊號：</strong>${s.detail.bodySignals.join('、')}</p>
        <p><strong>心的訊號：</strong>${s.detail.heartSignals.join('、')}</p>
        <div><strong>今日練習 · 5 分鐘版本</strong><p>${s.detail.practiceShort.join(' ')}</p></div>
        <div><strong>今日練習 · 10-15 分鐘版本</strong><p>${s.detail.practiceLong.join(' ')}</p></div>
        <p><strong>常見偏誤與溫柔提醒：</strong>${s.detail.bias}</p>
        <div class="card" style="margin-top:10px; background: linear-gradient(120deg, rgba(159,168,218,0.15), rgba(199,217,217,0.18));">
          <strong>節氣卡</strong>
          <p>${s.detail.card}</p>
        </div>
      `;
    }

    bodyFilter.addEventListener('change', renderSolarGrid);
    emotionFilter.addEventListener('change', renderSolarGrid);
    durationFilter.addEventListener('change', renderSolarGrid);
    renderSolarGrid();

    const practiceLibrary = [
      { title: '三階段呼吸 reset', type: '呼吸', duration: '5-7 分鐘', level: '初學', scene: '會議前降噪', caution: '孕期減少屏息', tags: ['安定','工作','短版'] },
      { title: '身體掃描 · 午間版', type: '身體掃描', duration: '10 分鐘', level: '初學', scene: '午休轉換', caution: '背部不適者可改坐姿', tags: ['放鬆','午休'] },
      { title: '慈心冥想 · 對自己', type: '慈心', duration: '12 分鐘', level: '入門', scene: '情緒多時', caution: '情緒泛濫時可縮短', tags: ['慈心','情緒'] },
      { title: '專注點凝視', type: '專注', duration: '6 分鐘', level: '初學', scene: '進入深工作', caution: '眼睛疲勞時休息', tags: ['專注','工作'] },
      { title: '睡前柔和伸展', type: '睡前', duration: '15 分鐘', level: '溫和', scene: '睡前放鬆', caution: '避免太飽時練習', tags: ['睡前','放鬆'] },
      { title: '連續吐氣降溫', type: '呼吸', duration: '4 分鐘', level: '初學', scene: '煩躁或炎熱', caution: '氣喘者縮短次數', tags: ['降溫','提神'] },
    ];

    const tagSet = new Set(practiceLibrary.flatMap(p => p.tags));
    const libraryTags = document.getElementById('libraryTags');
    const librarySearch = document.getElementById('librarySearch');
    const libraryGrid = document.getElementById('libraryGrid');
    const activeTags = new Set();

    tagSet.forEach(t => {
      const btn = document.createElement('button');
      btn.className = 'tag-button';
      btn.textContent = t;
      btn.addEventListener('click', () => {
        activeTags.has(t) ? activeTags.delete(t) : activeTags.add(t);
        btn.classList.toggle('active');
        renderLibrary();
      });
      libraryTags.appendChild(btn);
    });

    function renderLibrary() {
      const keyword = librarySearch.value.toLowerCase();
      libraryGrid.innerHTML = '';
      practiceLibrary.filter(p => {
        const matchKeyword = p.title.toLowerCase().includes(keyword) || p.scene.toLowerCase().includes(keyword);
        const matchTags = activeTags.size === 0 || p.tags.some(t => activeTags.has(t));
        return matchKeyword && matchTags;
      }).forEach(p => {
        const card = document.createElement('div');
        card.className = 'card mini-card';
        card.innerHTML = `
          <div class="section-title"><strong>${p.title}</strong><span class="pill">${p.type}</span></div>
          <p>時長：${p.duration} · 難度：${p.level}</p>
          <p>適合情境：${p.scene}</p>
          <p>禁忌/注意：${p.caution}</p>
          <div>${p.tags.map(t => `<span class="chip">${t}</span>`).join('')}</div>
        `;
        libraryGrid.appendChild(card);
      });
    }
    librarySearch.addEventListener('input', renderLibrary);
    renderLibrary();

    const writings = [
      { title: '節氣筆記｜立春的伸展與心的耐心', category: '節氣筆記', summary: '雷聲前的安靜，讓筋膜緩緩拉開而不是猛然甩動。', time: '4 分鐘', tags: ['立春','耐心','伸展'] },
      { title: '呼吸與覺察｜忙碌日的 5 分鐘 reset', category: '呼吸與覺察', summary: '用 4-6-4 呼吸把神經系統降噪，回到可以做決定的狀態。', time: '3 分鐘', tags: ['安定','工作'] },
      { title: '修行困惑｜當情緒太多時怎麼辦？', category: '修行困惑', summary: '不要急著貼標籤，先容許它存在，再選擇最小可行的練習。', time: '6 分鐘', tags: ['情緒','陪伴'] },
      { title: '生活整合｜把覺察放進行事曆', category: '生活整合', summary: '用 PM 的方式設定提醒，晨間呼吸、節氣留白、睡前放鬆。', time: '5 分鐘', tags: ['系統化','日常化'] },
      { title: '節氣筆記｜立夏的降溫練習', category: '節氣筆記', summary: '熱度上來時，先讓呼吸變涼，再談效率。', time: '4 分鐘', tags: ['立夏','降溫'] }
    ];

    const writingSearch = document.getElementById('writingSearch');
    const writingGrid = document.getElementById('writingGrid');
    function renderWritings() {
      const keyword = writingSearch.value.toLowerCase();
      writingGrid.innerHTML = '';
      writings.filter(w => w.title.toLowerCase().includes(keyword) || w.tags.some(t => t.toLowerCase().includes(keyword))).forEach(w => {
        const card = document.createElement('div');
        card.className = 'card mini-card';
        card.innerHTML = `
          <div class="section-title"><strong>${w.title}</strong><span class="pill">${w.category}</span></div>
          <p>${w.summary}</p>
          <p>閱讀時間：${w.time}</p>
          <div>${w.tags.map(t => `<span class="chip">${t}</span>`).join('')}</div>
        `;
        writingGrid.appendChild(card);
      });
    }
    writingSearch.addEventListener('input', renderWritings);
    renderWritings();

    function generatePattern() {
      const size = 180;
      let shapes = '';
      for (let i = 0; i < 12; i++) {
        const x = Math.random() * size;
        const y = Math.random() * size;
        const r = 18 + Math.random() * 24;
        shapes += `<circle cx="${x.toFixed(1)}" cy="${y.toFixed(1)}" r="${r.toFixed(1)}" fill="none" stroke="rgba(159,168,218,0.25)" stroke-width="0.6" />`;
      }
      for (let i = 0; i < 8; i++) {
        const x1 = Math.random() * size, y1 = Math.random() * size;
        const x2 = Math.random() * size, y2 = Math.random() * size;
        shapes += `<path d="M${x1.toFixed(1)} ${y1.toFixed(1)} L${x2.toFixed(1)} ${y2.toFixed(1)}" stroke="rgba(199,217,217,0.32)" stroke-width="0.5" />`;
      }
      const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='${size}' height='${size}' viewBox='0 0 ${size} ${size}'><defs><radialGradient id='g' cx='50%' cy='50%' r='70%'><stop offset='0%' stop-color='rgba(255,255,255,0.35)'/><stop offset='100%' stop-color='rgba(247,245,242,0)'/></radialGradient></defs><rect width='100%' height='100%' fill='url(#g)'/>${shapes}</svg>`;
      const encoded = encodeURIComponent(svg);
      document.documentElement.style.setProperty('--pattern', `url("data:image/svg+xml,${encoded}")`);
    }
    generatePattern();

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
      });
    }, { threshold: 0.2 });
    document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
  </script>
</body>
</html>
